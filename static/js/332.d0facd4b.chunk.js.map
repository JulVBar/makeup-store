{"version":3,"file":"static/js/332.d0facd4b.chunk.js","mappings":"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","sources":["components/Loader/Loader.tsx","components/SingleProduct/SingleProduct.tsx","webpack://makeup-store/./src/components/pages/singleProductPage.module.scss?c2da","components/pages/SingleProductPage.tsx"],"sourcesContent":["import { FC } from 'react';\r\nimport './loader.scss';\r\n\r\nconst Loader: FC = () => {\r\n\r\n    return (\r\n        <div className=\"cssload-loader\">\r\n            <div className=\"cssload-inner cssload-one\"></div>\r\n            <div className=\"cssload-inner cssload-two\"></div>\r\n            <div className=\"cssload-inner cssload-three\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader;","import { FC, useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { ProductItemType, ProductColorItem } from '../../reducer/productListReducer/types';\r\nimport { addItem } from '../../reducer/cartReducer/cartSlice';\r\nimport { favouriteSelector } from '../../reducer/favoutiteReducer/selectors';\r\nimport { addOrRemoveItemFromFav } from '../../reducer/favoutiteReducer/favouriteSlice';\r\nimport axios from 'axios';\r\nimport Icon from '../Icon/Icon';\r\nimport Loader from '../Loader/Loader';\r\nimport './singleProduct.scss';\r\n\r\n\r\n\r\n\r\nconst SingleProduct: FC = () => {\r\n    const [product, setProduct] = useState<ProductItemType>();\r\n    const [activeColor, setActiveColor] = useState<ProductColorItem>();\r\n    const { favs } = useSelector(favouriteSelector);\r\n    const { id } = useParams();\r\n    const isFavourite = favs ? favs.find((obj) => obj.id === product?.id) : false;\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n    \r\n    useEffect(() => {\r\n        async function fetchProduct() {\r\n            try {\r\n                const response = await axios.get<ProductItemType>('https://62f0bd3157311485d135bea7.mockapi.io/products/' + id);\r\n                setProduct(response.data as ProductItemType);\r\n                setActiveColor(response.data.product_colors[0]);\r\n            } catch (error) {\r\n                alert('Ошибка при получении продукта!');\r\n                navigate('/'); \r\n                navigate('/shop');\r\n            }\r\n        }\r\n    \r\n    fetchProduct();\r\n    }, [id, navigate]);\r\n\r\n    const onColorClick = (color: ProductColorItem): void => {\r\n        setActiveColor(color);\r\n    }\r\n    \r\n    const onFavouriteClick = (): void => {\r\n        if (product) dispatch(addOrRemoveItemFromFav(product));\r\n    }\r\n\r\n    const onClickAdd = () => {\r\n        if (product && activeColor) {\r\n            const item = {\r\n                id: product.id,\r\n                vendor_code: product.id + activeColor.colour_name,\r\n                name: product.name,\r\n                image_link: product.image_link,\r\n                brand: product.brand,\r\n                price: product.price,\r\n                pickedUpColor: activeColor,\r\n                count: 0,\r\n            };\r\n            dispatch(addItem(item));\r\n        }\r\n    };\r\n\r\n    if (!product) {\r\n        return <Loader/>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"singleprod\">\r\n            <div className=\"singleprod-body\">\r\n                <div className=\"singleprod-picture\">\r\n                    <img className=\"img-cover\" src={product.image_link} alt=\"Product Name\" />\r\n                </div>\r\n                <div className=\"singleprod-content\">\r\n                    <div className=\"singleprod-info\">\r\n                        <div \r\n                            className=\"singleprod-fav\"\r\n                            onClick={onFavouriteClick}\r\n                        >\r\n                            {isFavourite ? (\r\n                                    <Icon\r\n                                        name=\"fullheart\"\r\n                                        className=\"product-icon-fav\"\r\n                                    />\r\n                            ) : (\r\n                                <Icon\r\n                                    name='heart'\r\n                                    className=\"product-icon\"\r\n                                />\r\n                            )}\r\n                        </div>\r\n                        <div className=\"singleprod-name\">{product.name}</div>\r\n                        <div className=\"singleprod-price\">${product.price}</div>\r\n                        <div className=\"singleprod-description\">{product.description}</div>\r\n                        <div className=\"singleprod-brand\">Brand: <span>{product.brand}</span></div>\r\n                        <div className=\"singleprod-category\">Category: <span>{product.category}</span></div>\r\n                        <div className=\"singleprod-type\">Type: <span>{product.product_type}</span></div>\r\n                        <ul className=\"singleprod-palet\">\r\n                            {product.product_colors.map((color, index) => (\r\n                                <li\r\n                                    key={`${color.colour_name}-${index}`}\r\n                                    className={activeColor?.hex_value === color.hex_value ? \"active\" : \"\"}\r\n                                    onClick={()=>{onColorClick(product.product_colors[index])}}\r\n                                >\r\n                                    <div\r\n                                        className=\"singleprod-color\"\r\n                                        style={{ background: color.hex_value}}\r\n                                        >\r\n                                    </div>\r\n                                    <span>{color.colour_name}</span>\r\n                                </li>\r\n                            ))}\r\n                        </ul>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"singleprod-btn\">\r\n                            <button\r\n                                className=\"button-green\"\r\n                                type=\"button\"\r\n                                onClick={onClickAdd}\r\n                            >\r\n                                Add to cart\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"singleprod-footer\">\r\n                <div className=\"singleprod-tag\">Tags:</div>\r\n                <ul>\r\n                    {product.tag_list.map((tag, index) => (\r\n                        <li\r\n                        key={`${tag}-${index}`}\r\n                        >\r\n                            {tag}\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SingleProduct;","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"singleProductPage_button__XJrYD\",\"buttonText\":\"singleProductPage_buttonText__e-OK1\",\"buttonArrow\":\"singleProductPage_buttonArrow__y9n0r\",\"moving-arrow\":\"singleProductPage_moving-arrow__8hIVt\"};","import { useEffect, FC } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport SingleProduct from '../SingleProduct/SingleProduct';\r\nimport styles from './singleProductPage.module.scss';\r\n\r\nconst ShopPage: FC = () => {\r\n    useEffect(() => {\r\n        window.scrollTo(0,0);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    \r\n    return (\r\n        <div className=\"container\">\r\n            <div className={styles.button}>\r\n                <Link to='/shop'>\r\n                <div className={styles.buttonArrow}>\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                </div>\r\n                <div className={styles.buttonText}>Back to shop</div>\r\n                </Link>\r\n            </div>\r\n            <SingleProduct/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ShopPage;"],"names":["className","useState","product","setProduct","activeColor","setActiveColor","favs","useSelector","favouriteSelector","id","useParams","isFavourite","find","obj","navigate","useNavigate","dispatch","useDispatch","useEffect","axios","response","data","product_colors","alert","fetchProduct","src","image_link","alt","onClick","addOrRemoveItemFromFav","Icon","name","price","description","brand","category","product_type","map","color","index","hex_value","onColorClick","style","background","colour_name","type","item","vendor_code","pickedUpColor","count","addItem","tag_list","tag","Loader","window","scrollTo","styles","to"],"sourceRoot":""}